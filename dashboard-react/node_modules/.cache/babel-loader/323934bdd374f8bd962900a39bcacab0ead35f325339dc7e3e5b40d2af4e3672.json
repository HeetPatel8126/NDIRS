{"ast":null,"code":"import React from'react';import{Chart as ChartJS,ArcElement,Tooltip,Legend}from'chart.js';import{Doughnut}from'react-chartjs-2';import'./ProtocolChart.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(ArcElement,Tooltip,Legend);const COLORS=['#74b9ff','#a29bfe','#fd79a8','#ffeaa7','#55efc4','#81ecec','#fab1a0','#ff7675','#dfe6e9','#b2bec3'];function ProtocolChart(_ref){let{protocols}=_ref;const protocolNames=Object.keys(protocols);const protocolValues=Object.values(protocols);const total=protocolValues.reduce((a,b)=>a+b,0);const chartData={labels:protocolNames,datasets:[{data:protocolValues,backgroundColor:COLORS,borderWidth:0,hoverOffset:15,borderRadius:5}]};const options={responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'right',labels:{color:'#fff',padding:15,font:{size:12,weight:'500'},usePointStyle:true,pointStyle:'circle'}},tooltip:{backgroundColor:'rgba(0, 0, 0, 0.8)',titleFont:{size:14,weight:'600'},bodyFont:{size:13},padding:12,cornerRadius:8,callbacks:{label:context=>{const value=context.raw;const percentage=(value/total*100).toFixed(1);return\" \".concat(value.toLocaleString(),\" packets (\").concat(percentage,\"%)\");}}}},cutout:'65%',animation:{animateRotate:true,animateScale:true}};const sortedProtocols=Object.entries(protocols).sort((a,b)=>b[1]-a[1]).slice(0,5);return/*#__PURE__*/_jsxs(\"div\",{className:\"panel protocol-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"panel-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"panel-icon\",children:\"\\uD83D\\uDCCA\"}),\"Protocol Distribution\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"panel-subtitle\",children:[protocolNames.length,\" protocols detected\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:total>0?/*#__PURE__*/_jsx(Doughnut,{data:chartData,options:options}):/*#__PURE__*/_jsxs(\"div\",{className:\"no-data\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"no-data-icon\",children:\"\\uD83D\\uDCED\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Waiting for data...\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"protocol-bars\",children:sortedProtocols.map((_ref2,index)=>{let[name,count]=_ref2;const percent=total>0?(count/total*100).toFixed(1):0;return/*#__PURE__*/_jsxs(\"div\",{className:\"protocol-bar-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"protocol-bar-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"protocol-name\",children:name}),/*#__PURE__*/_jsx(\"span\",{className:\"protocol-count\",children:count.toLocaleString()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"protocol-bar-bg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"protocol-bar-fill\",style:{width:\"\".concat(percent,\"%\"),backgroundColor:COLORS[index%COLORS.length]},children:/*#__PURE__*/_jsxs(\"span\",{className:\"protocol-percent\",children:[percent,\"%\"]})})})]},name);})})]});}export default ProtocolChart;","map":{"version":3,"names":["React","Chart","ChartJS","ArcElement","Tooltip","Legend","Doughnut","jsx","_jsx","jsxs","_jsxs","register","COLORS","ProtocolChart","_ref","protocols","protocolNames","Object","keys","protocolValues","values","total","reduce","a","b","chartData","labels","datasets","data","backgroundColor","borderWidth","hoverOffset","borderRadius","options","responsive","maintainAspectRatio","plugins","legend","position","color","padding","font","size","weight","usePointStyle","pointStyle","tooltip","titleFont","bodyFont","cornerRadius","callbacks","label","context","value","raw","percentage","toFixed","concat","toLocaleString","cutout","animation","animateRotate","animateScale","sortedProtocols","entries","sort","slice","className","children","length","map","_ref2","index","name","count","percent","style","width"],"sources":["C:/Users/Victus/OneDrive/Desktop/NIDRS/dashboard-react/src/components/ProtocolChart.js"],"sourcesContent":["import React from 'react';\r\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport './ProtocolChart.css';\r\n\r\nChartJS.register(ArcElement, Tooltip, Legend);\r\n\r\nconst COLORS = [\r\n  '#74b9ff', '#a29bfe', '#fd79a8', '#ffeaa7', '#55efc4',\r\n  '#81ecec', '#fab1a0', '#ff7675', '#dfe6e9', '#b2bec3'\r\n];\r\n\r\nfunction ProtocolChart({ protocols }) {\r\n  const protocolNames = Object.keys(protocols);\r\n  const protocolValues = Object.values(protocols);\r\n  const total = protocolValues.reduce((a, b) => a + b, 0);\r\n\r\n  const chartData = {\r\n    labels: protocolNames,\r\n    datasets: [\r\n      {\r\n        data: protocolValues,\r\n        backgroundColor: COLORS,\r\n        borderWidth: 0,\r\n        hoverOffset: 15,\r\n        borderRadius: 5,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const options = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      legend: {\r\n        position: 'right',\r\n        labels: {\r\n          color: '#fff',\r\n          padding: 15,\r\n          font: { size: 12, weight: '500' },\r\n          usePointStyle: true,\r\n          pointStyle: 'circle',\r\n        },\r\n      },\r\n      tooltip: {\r\n        backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n        titleFont: { size: 14, weight: '600' },\r\n        bodyFont: { size: 13 },\r\n        padding: 12,\r\n        cornerRadius: 8,\r\n        callbacks: {\r\n          label: (context) => {\r\n            const value = context.raw;\r\n            const percentage = ((value / total) * 100).toFixed(1);\r\n            return ` ${value.toLocaleString()} packets (${percentage}%)`;\r\n          },\r\n        },\r\n      },\r\n    },\r\n    cutout: '65%',\r\n    animation: {\r\n      animateRotate: true,\r\n      animateScale: true,\r\n    },\r\n  };\r\n\r\n  const sortedProtocols = Object.entries(protocols)\r\n    .sort((a, b) => b[1] - a[1])\r\n    .slice(0, 5);\r\n\r\n  return (\r\n    <div className=\"panel protocol-panel\">\r\n      <div className=\"panel-header\">\r\n        <h2 className=\"panel-title\">\r\n          <span className=\"panel-icon\">ðŸ“Š</span>\r\n          Protocol Distribution\r\n        </h2>\r\n        <span className=\"panel-subtitle\">{protocolNames.length} protocols detected</span>\r\n      </div>\r\n      \r\n      <div className=\"chart-container\">\r\n        {total > 0 ? (\r\n          <Doughnut data={chartData} options={options} />\r\n        ) : (\r\n          <div className=\"no-data\">\r\n            <span className=\"no-data-icon\">ðŸ“­</span>\r\n            <p>Waiting for data...</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"protocol-bars\">\r\n        {sortedProtocols.map(([name, count], index) => {\r\n          const percent = total > 0 ? ((count / total) * 100).toFixed(1) : 0;\r\n          return (\r\n            <div key={name} className=\"protocol-bar-item\">\r\n              <div className=\"protocol-bar-header\">\r\n                <span className=\"protocol-name\">{name}</span>\r\n                <span className=\"protocol-count\">{count.toLocaleString()}</span>\r\n              </div>\r\n              <div className=\"protocol-bar-bg\">\r\n                <div\r\n                  className=\"protocol-bar-fill\"\r\n                  style={{\r\n                    width: `${percent}%`,\r\n                    backgroundColor: COLORS[index % COLORS.length],\r\n                  }}\r\n                >\r\n                  <span className=\"protocol-percent\">{percent}%</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProtocolChart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}