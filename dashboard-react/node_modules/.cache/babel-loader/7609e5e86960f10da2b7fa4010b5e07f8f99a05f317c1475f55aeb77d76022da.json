{"ast":null,"code":"import React from'react';import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend,Filler}from'chart.js';import{Line}from'react-chartjs-2';import'./TrafficChart.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend,Filler);function TrafficChart(_ref){let{trafficHistory}=_ref;// Calculate packet deltas for rate\nconst packetRates=trafficHistory.map((entry,index)=>{if(index===0)return 0;const delta=entry.packets-trafficHistory[index-1].packets;return Math.max(0,delta);});const chartData={labels:trafficHistory.map(entry=>entry.time),datasets:[{label:'Packets/Update',data:packetRates,borderColor:'#74b9ff',backgroundColor:'rgba(116, 185, 255, 0.1)',borderWidth:3,fill:true,tension:0.4,pointRadius:4,pointHoverRadius:6,pointBackgroundColor:'#74b9ff',pointBorderColor:'#fff',pointBorderWidth:2}]};const options={responsive:true,maintainAspectRatio:false,interaction:{intersect:false,mode:'index'},plugins:{legend:{display:false},tooltip:{backgroundColor:'rgba(0, 0, 0, 0.8)',titleFont:{size:14,weight:'600'},bodyFont:{size:13},padding:12,cornerRadius:8,callbacks:{label:context=>\" \".concat(context.raw.toLocaleString(),\" packets\")}}},scales:{x:{grid:{color:'rgba(255, 255, 255, 0.05)',drawBorder:false},ticks:{color:'rgba(255, 255, 255, 0.5)',font:{size:10},maxRotation:0,maxTicksLimit:8}},y:{beginAtZero:true,grid:{color:'rgba(255, 255, 255, 0.05)',drawBorder:false},ticks:{color:'rgba(255, 255, 255, 0.5)',font:{size:11},callback:value=>value.toLocaleString()}}},animation:{duration:300}};const currentRate=packetRates.length>0?packetRates[packetRates.length-1]:0;const avgRate=packetRates.length>0?Math.round(packetRates.reduce((a,b)=>a+b,0)/packetRates.length):0;const maxRate=Math.max(...packetRates,0);return/*#__PURE__*/_jsxs(\"div\",{className:\"panel traffic-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"panel-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"panel-icon\",children:\"\\uD83D\\uDCC8\"}),\"Real-Time Traffic\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"traffic-stats\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"traffic-stat current\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Current\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:currentRate})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"traffic-stat avg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Avg\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:avgRate})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"traffic-stat max\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Max\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:maxRate})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:trafficHistory.length>1?/*#__PURE__*/_jsx(Line,{data:chartData,options:options}):/*#__PURE__*/_jsxs(\"div\",{className:\"no-data\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"no-data-icon\",children:\"\\u23F3\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Collecting traffic data...\"})]})})]});}export default TrafficChart;","map":{"version":3,"names":["React","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","Filler","Line","jsx","_jsx","jsxs","_jsxs","register","TrafficChart","_ref","trafficHistory","packetRates","map","entry","index","delta","packets","Math","max","chartData","labels","time","datasets","label","data","borderColor","backgroundColor","borderWidth","fill","tension","pointRadius","pointHoverRadius","pointBackgroundColor","pointBorderColor","pointBorderWidth","options","responsive","maintainAspectRatio","interaction","intersect","mode","plugins","legend","display","tooltip","titleFont","size","weight","bodyFont","padding","cornerRadius","callbacks","context","concat","raw","toLocaleString","scales","x","grid","color","drawBorder","ticks","font","maxRotation","maxTicksLimit","y","beginAtZero","callback","value","animation","duration","currentRate","length","avgRate","round","reduce","a","b","maxRate","className","children"],"sources":["C:/Users/Victus/OneDrive/Desktop/NIDRS/dashboard-react/src/components/TrafficChart.js"],"sourcesContent":["import React from 'react';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  Filler,\r\n} from 'chart.js';\r\nimport { Line } from 'react-chartjs-2';\r\nimport './TrafficChart.css';\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  Filler\r\n);\r\n\r\nfunction TrafficChart({ trafficHistory }) {\r\n  // Calculate packet deltas for rate\r\n  const packetRates = trafficHistory.map((entry, index) => {\r\n    if (index === 0) return 0;\r\n    const delta = entry.packets - trafficHistory[index - 1].packets;\r\n    return Math.max(0, delta);\r\n  });\r\n\r\n  const chartData = {\r\n    labels: trafficHistory.map((entry) => entry.time),\r\n    datasets: [\r\n      {\r\n        label: 'Packets/Update',\r\n        data: packetRates,\r\n        borderColor: '#74b9ff',\r\n        backgroundColor: 'rgba(116, 185, 255, 0.1)',\r\n        borderWidth: 3,\r\n        fill: true,\r\n        tension: 0.4,\r\n        pointRadius: 4,\r\n        pointHoverRadius: 6,\r\n        pointBackgroundColor: '#74b9ff',\r\n        pointBorderColor: '#fff',\r\n        pointBorderWidth: 2,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const options = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    interaction: {\r\n      intersect: false,\r\n      mode: 'index',\r\n    },\r\n    plugins: {\r\n      legend: {\r\n        display: false,\r\n      },\r\n      tooltip: {\r\n        backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n        titleFont: { size: 14, weight: '600' },\r\n        bodyFont: { size: 13 },\r\n        padding: 12,\r\n        cornerRadius: 8,\r\n        callbacks: {\r\n          label: (context) => ` ${context.raw.toLocaleString()} packets`,\r\n        },\r\n      },\r\n    },\r\n    scales: {\r\n      x: {\r\n        grid: {\r\n          color: 'rgba(255, 255, 255, 0.05)',\r\n          drawBorder: false,\r\n        },\r\n        ticks: {\r\n          color: 'rgba(255, 255, 255, 0.5)',\r\n          font: { size: 10 },\r\n          maxRotation: 0,\r\n          maxTicksLimit: 8,\r\n        },\r\n      },\r\n      y: {\r\n        beginAtZero: true,\r\n        grid: {\r\n          color: 'rgba(255, 255, 255, 0.05)',\r\n          drawBorder: false,\r\n        },\r\n        ticks: {\r\n          color: 'rgba(255, 255, 255, 0.5)',\r\n          font: { size: 11 },\r\n          callback: (value) => value.toLocaleString(),\r\n        },\r\n      },\r\n    },\r\n    animation: {\r\n      duration: 300,\r\n    },\r\n  };\r\n\r\n  const currentRate = packetRates.length > 0 ? packetRates[packetRates.length - 1] : 0;\r\n  const avgRate = packetRates.length > 0 \r\n    ? Math.round(packetRates.reduce((a, b) => a + b, 0) / packetRates.length)\r\n    : 0;\r\n  const maxRate = Math.max(...packetRates, 0);\r\n\r\n  return (\r\n    <div className=\"panel traffic-panel\">\r\n      <div className=\"panel-header\">\r\n        <h2 className=\"panel-title\">\r\n          <span className=\"panel-icon\">üìà</span>\r\n          Real-Time Traffic\r\n        </h2>\r\n        <div className=\"traffic-stats\">\r\n          <span className=\"traffic-stat current\">\r\n            <span className=\"stat-label\">Current</span>\r\n            <span className=\"stat-value\">{currentRate}</span>\r\n          </span>\r\n          <span className=\"traffic-stat avg\">\r\n            <span className=\"stat-label\">Avg</span>\r\n            <span className=\"stat-value\">{avgRate}</span>\r\n          </span>\r\n          <span className=\"traffic-stat max\">\r\n            <span className=\"stat-label\">Max</span>\r\n            <span className=\"stat-value\">{maxRate}</span>\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"chart-container\">\r\n        {trafficHistory.length > 1 ? (\r\n          <Line data={chartData} options={options} />\r\n        ) : (\r\n          <div className=\"no-data\">\r\n            <span className=\"no-data-icon\">‚è≥</span>\r\n            <p>Collecting traffic data...</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TrafficChart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}